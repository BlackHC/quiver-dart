        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>quiver.io Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="quiver.io">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="quiver.io.html">quiver.io</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
<h2><strong>quiver.io</strong> library</h2>
<div>
<h3>Functions</h3>
<div class="method"><h4 id="visitDirectory">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_async/Future.html">Future</a> <strong>visitDirectory</strong>(<a href="http://api.dartlang.org/dart_io/Directory.html">Directory</a> dir, <a href="http://api.dartlang.org/dart_async/Future.html">Future</a>&lt;<a href="http://api.dartlang.org/dart_core/bool.html">bool</a>&gt; visit(<a href="http://api.dartlang.org/dart_io/FileSystemEntity.html">FileSystemEntity</a> f)) <a class="anchor-link" href="#visitDirectory"
              title="Permalink to visitDirectory">#</a></h4>
<div class="doc">
<p>Lists the sub-directories and files of this Directory, optionally recursing
into sub-directories based on the return value of 
<span class="param">visit</span>.</p>
<p>
<span class="param">visit</span> is called with a <a class="crossref" href="dart_io/File.html">File</a>, <a class="crossref" href="dart_io/Directory.html">Directory</a> or <a class="crossref" href="dart_io/Link.html">Link</a> to a directory,
never a Symlink to a File. If 
<span class="param">visit</span> returns true, then it's argument is
listed recursively.</p>
<pre class="source">
Future visitDirectory(Directory dir, Future&lt;bool&gt; visit(FileSystemEntity f)) {
 var futureGroup = new FutureGroup();

 void _list(Directory dir) {
   var completer = new Completer();
   futureGroup.add(completer.future);
   var sub;
   sub = dir.list(followLinks: false).listen((FileSystemEntity entity) {
     var future = visit(entity);
     if (future != null) {
       futureGroup.add(future.then((bool recurse) {
         // recurse on directories, but not cyclic symlinks
         if (entity is! File &amp;&amp; recurse == true) {
           if (entity is Link) {
             if (FileSystemEntity.typeSync(entity.path, followLinks: true) ==
                   FileSystemEntityType.DIRECTORY) {
               var fullPath = getFullPath(entity.path).toString();
               var dirFullPath = getFullPath(dir.path).toString();
               if (!dirFullPath.startsWith(fullPath)) {
                 _list(new Directory(entity.path));
               }
             }
           } else {
             _list(entity);
           }
         }
       }));
     }
   },
   onDone: () {
     completer.complete(null);
   },
   cancelOnError: true);
 }
 _list(dir);

 return futureGroup.future;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getFullPath">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/String.html">String</a> <strong>getFullPath</strong>(path) <a class="anchor-link" href="#getFullPath"
              title="Permalink to getFullPath">#</a></h4>
<div class="doc">
<p>Gets the full path of 
<span class="param">path</span> by using <code>File.fullPathSync</code>.</p>
<pre class="source">
String getFullPath(path) =&gt; new File(path).resolveSymbolicLinksSync();
</pre>
</div>
</div>
<div class="method"><h4 id="byteStreamToString">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_async/Future.html">Future</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; <strong>byteStreamToString</strong>(<a href="http://api.dartlang.org/dart_async/Stream.html">Stream</a>&lt;<a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;&gt; stream, {<a href="http://api.dartlang.org/dart_convert/Encoding.html">Encoding</a> encoding: UTF8}) <a class="anchor-link" href="#byteStreamToString"
              title="Permalink to byteStreamToString">#</a></h4>
<div class="doc">
<p>Converts a <a class="crossref" href="dart_async/Stream.html">Stream</a> of byte lists to a <a class="crossref" href="dart_core/String.html">String</a>.</p>
<pre class="source">
Future&lt;String&gt; byteStreamToString(Stream&lt;List&lt;int&gt;&gt; stream,
   {Encoding encoding: UTF8}) {
 return stream.transform(encoding.decoder).join();
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-11-06 14:02:40.986</div>
        </div>
        <script async src="client-live-nav.js"></script>
        </body></html>
        
