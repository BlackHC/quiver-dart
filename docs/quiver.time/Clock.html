        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Clock class / quiver.time Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="quiver.time" data-type="Clock">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../quiver.time.html">quiver.time</a> &rsaquo; <a href="../quiver.time/Clock.html">Clock</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>Clock</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Provides points in time relative to the current point in time, for example:
now, 2 days ago, 4 weeks from now, etc.</p>
<p>This class is designed with testability in mind. The current point in time
(or <code>now()</code>) is defined by a <a class="crossref" href="../quiver.time/TimeFunction.html">TimeFunction</a>. By supplying your own time
function or by using fixed clock (see constructors), you can control
exactly what time a <a class="crossref" href="../quiver.time/Clock.html">Clock</a> returns and base your test expectations on
that. See specific constructors for how to supply time functions.</p>
<pre class="source">
class Clock {

 final TimeFunction _time;

 /// Creates a clock based on the given [timeFunc].
 ///
 /// If [timeFunc] is not provided, creates [Clock] based on system clock.
 ///
 /// Custom [timeFunc] can be useful in unit-tests. For example, you might
 /// want to control what time it is now and set date and time expectations in
 /// your test cases.
 const Clock([TimeFunction timeFunc = systemTime]) : _time = timeFunc;

 /// Creates [Clock] that returns fixed [time] value. Useful in unit-tests.
 Clock.fixed(DateTime time) : _time = (() =&gt; time);

 /// Returns current time.
 DateTime now() =&gt; _time();

 /// Returns the point in time [Duration] amount of time ago.
 DateTime agoBy(Duration duration) =&gt; now().subtract(duration);

 /// Returns the point in time [Duration] amount of time from now.
 DateTime fromNowBy(Duration duration) =&gt; now().add(duration);

 /// Returns the point in time that's given amount of time ago. The
 /// amount of time is the sum of individual parts. Parts are compatible with
 /// ones defined in [Duration].
 DateTime ago({int days: 0,
               int hours: 0,
               int minutes: 0,
               int seconds: 0,
               int milliseconds: 0,
               int microseconds: 0}) =&gt;
     agoBy(new Duration(days: days,
                        hours: hours,
                        minutes: minutes,
                        seconds: seconds,
                        milliseconds: milliseconds,
                        microseconds: microseconds));

 /// Returns the point in time that's given amount of time from now. The
 /// amount of time is the sum of individual parts. Parts are compatible with
 /// ones defined in [Duration].
 DateTime fromNow({int days: 0,
               int hours: 0,
               int minutes: 0,
               int seconds: 0,
               int milliseconds: 0,
               int microseconds: 0}) =&gt;
     fromNowBy(new Duration(days: days,
                        hours: hours,
                        minutes: minutes,
                        seconds: seconds,
                        milliseconds: milliseconds,
                        microseconds: microseconds));

 /// Return the point in time [micros] microseconds ago.
 DateTime microsAgo(int micros) =&gt; ago(microseconds: micros);

 /// Return the point in time [micros] microseconds from now.
 DateTime microsFromNow(int micros) =&gt; fromNow(microseconds: micros);

 /// Return the point in time [millis] milliseconds ago.
 DateTime millisAgo(int millis) =&gt; ago(milliseconds: millis);

 /// Return the point in time [millis] milliseconds from now.
 DateTime millisFromNow(int millis) =&gt; fromNow(milliseconds: millis);

 /// Return the point in time [seconds] ago.
 DateTime secondsAgo(int seconds) =&gt; ago(seconds: seconds);

 /// Return the point in time [seconds] from now.
 DateTime secondsFromNow(int seconds) =&gt; fromNow(seconds: seconds);

 /// Return the point in time [minutes] ago.
 DateTime minutesAgo(int minutes) =&gt; ago(minutes: minutes);

 /// Return the point in time [minutes] from now.
 DateTime minutesFromNow(int minutes) =&gt; fromNow(minutes: minutes);

 /// Return the point in time [hours] ago.
 DateTime hoursAgo(int hours) =&gt; ago(hours: hours);

 /// Return the point in time [hours] from now.
 DateTime hoursFromNow(int hours) =&gt; fromNow(hours: hours);

 /// Return the point in time [days] ago.
 DateTime daysAgo(int days) =&gt; ago(days: days);

 /// Return the point in time [days] from now.
 DateTime daysFromNow(int days) =&gt; fromNow(days: days);

 /// Return the point in time [weeks] ago.
 DateTime weeksAgo(int weeks) =&gt; ago(days: 7 * weeks);

 /// Return the point in time [weeks] from now.
 DateTime weeksFromNow(int weeks) =&gt; fromNow(days: 7 * weeks);

 /// Return the point in time [months] ago on the same date.
 DateTime monthsAgo(int months) {
   var time = now();
   var m = (time.month - months - 1) % 12 + 1;
   var y = time.year - (months + 12 - time.month) ~/ 12;
   var d = _clampDate(time.day, y, m);
   return new DateTime(
       y,
       m,
       d,
       time.hour,
       time.minute,
       time.second,
       time.millisecond
   );
 }

 /// Return the point in time [months] from now on the same date.
 DateTime monthsFromNow(int months) {
   var time = now();
   var m = (time.month + months - 1) % 12 + 1;
   var y = time.year + (months + time.month - 1) ~/ 12;
   var d = _clampDate(time.day, y, m);
   return new DateTime(
       y,
       m,
       d,
       time.hour,
       time.minute,
       time.second,
       time.millisecond
   );
 }

 /// Return the point in time [years] ago on the same date.
 DateTime yearsAgo(int years) {
   var time = now();
   var y = time.year - years;
   var d = _clampDate(time.day, y, time.month);
   return new DateTime(
       y,
       time.month,
       d,
       time.hour,
       time.minute,
       time.second,
       time.millisecond
   );
 }

 /// Return the point in time [years] from now on the same date.
 DateTime yearsFromNow(int years) =&gt; yearsAgo(-years);
}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
const <strong>Clock</strong>([<a href="../quiver.time/TimeFunction.html">TimeFunction</a> timeFunc = systemTime]) <a class="anchor-link" href="#"
              title="Permalink to Clock.Clock">#</a></h4>
<div class="doc">
<p>Creates a clock based on the given 
<span class="param">timeFunc</span>.</p>
<p>If 
<span class="param">timeFunc</span> is not provided, creates <a class="crossref" href="../quiver.time/Clock.html">Clock</a> based on system clock.</p>
<p>Custom 
<span class="param">timeFunc</span> can be useful in unit-tests. For example, you might
want to control what time it is now and set date and time expectations in
your test cases.</p>
<pre class="source">
const Clock([TimeFunction timeFunc = systemTime]) : _time = timeFunc;
</pre>
</div>
</div>
<div class="method"><h4 id="fixed">
<button class="show-code">Code</button>
new <strong>Clock.fixed</strong>(DateTime time) <a class="anchor-link" href="#fixed"
              title="Permalink to Clock.Clock.fixed">#</a></h4>
<div class="doc">
<p>Creates <a class="crossref" href="../quiver.time/Clock.html">Clock</a> that returns fixed 
<span class="param">time</span> value. Useful in unit-tests.</p>
<pre class="source">
Clock.fixed(DateTime time) : _time = (() =&gt; time);
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="ago">
<button class="show-code">Code</button>
DateTime <strong>ago</strong>({int days: 0, int hours: 0, int minutes: 0, int seconds: 0, int milliseconds: 0, int microseconds: 0}) <a class="anchor-link" href="#ago"
              title="Permalink to Clock.ago">#</a></h4>
<div class="doc">
<p>Returns the point in time that's given amount of time ago. The
amount of time is the sum of individual parts. Parts are compatible with
ones defined in <a class="crossref" href="../dart_core/Duration.html">Duration</a>.</p>
<pre class="source">
DateTime ago({int days: 0,
             int hours: 0,
             int minutes: 0,
             int seconds: 0,
             int milliseconds: 0,
             int microseconds: 0}) =&gt;
   agoBy(new Duration(days: days,
                      hours: hours,
                      minutes: minutes,
                      seconds: seconds,
                      milliseconds: milliseconds,
                      microseconds: microseconds));
</pre>
</div>
</div>
<div class="method"><h4 id="agoBy">
<button class="show-code">Code</button>
DateTime <strong>agoBy</strong>(Duration duration) <a class="anchor-link" href="#agoBy"
              title="Permalink to Clock.agoBy">#</a></h4>
<div class="doc">
<p>Returns the point in time <a class="crossref" href="../dart_core/Duration.html">Duration</a> amount of time ago.</p>
<pre class="source">
DateTime agoBy(Duration duration) =&gt; now().subtract(duration);
</pre>
</div>
</div>
<div class="method"><h4 id="daysAgo">
<button class="show-code">Code</button>
DateTime <strong>daysAgo</strong>(int days) <a class="anchor-link" href="#daysAgo"
              title="Permalink to Clock.daysAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">days</span> ago.</p>
<pre class="source">
DateTime daysAgo(int days) =&gt; ago(days: days);
</pre>
</div>
</div>
<div class="method"><h4 id="daysFromNow">
<button class="show-code">Code</button>
DateTime <strong>daysFromNow</strong>(int days) <a class="anchor-link" href="#daysFromNow"
              title="Permalink to Clock.daysFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">days</span> from now.</p>
<pre class="source">
DateTime daysFromNow(int days) =&gt; fromNow(days: days);
</pre>
</div>
</div>
<div class="method"><h4 id="fromNow">
<button class="show-code">Code</button>
DateTime <strong>fromNow</strong>({int days: 0, int hours: 0, int minutes: 0, int seconds: 0, int milliseconds: 0, int microseconds: 0}) <a class="anchor-link" href="#fromNow"
              title="Permalink to Clock.fromNow">#</a></h4>
<div class="doc">
<p>Returns the point in time that's given amount of time from now. The
amount of time is the sum of individual parts. Parts are compatible with
ones defined in <a class="crossref" href="../dart_core/Duration.html">Duration</a>.</p>
<pre class="source">
DateTime fromNow({int days: 0,
             int hours: 0,
             int minutes: 0,
             int seconds: 0,
             int milliseconds: 0,
             int microseconds: 0}) =&gt;
   fromNowBy(new Duration(days: days,
                      hours: hours,
                      minutes: minutes,
                      seconds: seconds,
                      milliseconds: milliseconds,
                      microseconds: microseconds));
</pre>
</div>
</div>
<div class="method"><h4 id="fromNowBy">
<button class="show-code">Code</button>
DateTime <strong>fromNowBy</strong>(Duration duration) <a class="anchor-link" href="#fromNowBy"
              title="Permalink to Clock.fromNowBy">#</a></h4>
<div class="doc">
<p>Returns the point in time <a class="crossref" href="../dart_core/Duration.html">Duration</a> amount of time from now.</p>
<pre class="source">
DateTime fromNowBy(Duration duration) =&gt; now().add(duration);
</pre>
</div>
</div>
<div class="method"><h4 id="hoursAgo">
<button class="show-code">Code</button>
DateTime <strong>hoursAgo</strong>(int hours) <a class="anchor-link" href="#hoursAgo"
              title="Permalink to Clock.hoursAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">hours</span> ago.</p>
<pre class="source">
DateTime hoursAgo(int hours) =&gt; ago(hours: hours);
</pre>
</div>
</div>
<div class="method"><h4 id="hoursFromNow">
<button class="show-code">Code</button>
DateTime <strong>hoursFromNow</strong>(int hours) <a class="anchor-link" href="#hoursFromNow"
              title="Permalink to Clock.hoursFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">hours</span> from now.</p>
<pre class="source">
DateTime hoursFromNow(int hours) =&gt; fromNow(hours: hours);
</pre>
</div>
</div>
<div class="method"><h4 id="microsAgo">
<button class="show-code">Code</button>
DateTime <strong>microsAgo</strong>(int micros) <a class="anchor-link" href="#microsAgo"
              title="Permalink to Clock.microsAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">micros</span> microseconds ago.</p>
<pre class="source">
DateTime microsAgo(int micros) =&gt; ago(microseconds: micros);
</pre>
</div>
</div>
<div class="method"><h4 id="microsFromNow">
<button class="show-code">Code</button>
DateTime <strong>microsFromNow</strong>(int micros) <a class="anchor-link" href="#microsFromNow"
              title="Permalink to Clock.microsFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">micros</span> microseconds from now.</p>
<pre class="source">
DateTime microsFromNow(int micros) =&gt; fromNow(microseconds: micros);
</pre>
</div>
</div>
<div class="method"><h4 id="millisAgo">
<button class="show-code">Code</button>
DateTime <strong>millisAgo</strong>(int millis) <a class="anchor-link" href="#millisAgo"
              title="Permalink to Clock.millisAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">millis</span> milliseconds ago.</p>
<pre class="source">
DateTime millisAgo(int millis) =&gt; ago(milliseconds: millis);
</pre>
</div>
</div>
<div class="method"><h4 id="millisFromNow">
<button class="show-code">Code</button>
DateTime <strong>millisFromNow</strong>(int millis) <a class="anchor-link" href="#millisFromNow"
              title="Permalink to Clock.millisFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">millis</span> milliseconds from now.</p>
<pre class="source">
DateTime millisFromNow(int millis) =&gt; fromNow(milliseconds: millis);
</pre>
</div>
</div>
<div class="method"><h4 id="minutesAgo">
<button class="show-code">Code</button>
DateTime <strong>minutesAgo</strong>(int minutes) <a class="anchor-link" href="#minutesAgo"
              title="Permalink to Clock.minutesAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">minutes</span> ago.</p>
<pre class="source">
DateTime minutesAgo(int minutes) =&gt; ago(minutes: minutes);
</pre>
</div>
</div>
<div class="method"><h4 id="minutesFromNow">
<button class="show-code">Code</button>
DateTime <strong>minutesFromNow</strong>(int minutes) <a class="anchor-link" href="#minutesFromNow"
              title="Permalink to Clock.minutesFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">minutes</span> from now.</p>
<pre class="source">
DateTime minutesFromNow(int minutes) =&gt; fromNow(minutes: minutes);
</pre>
</div>
</div>
<div class="method"><h4 id="monthsAgo">
<button class="show-code">Code</button>
DateTime <strong>monthsAgo</strong>(int months) <a class="anchor-link" href="#monthsAgo"
              title="Permalink to Clock.monthsAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">months</span> ago on the same date.</p>
<pre class="source">
DateTime monthsAgo(int months) {
 var time = now();
 var m = (time.month - months - 1) % 12 + 1;
 var y = time.year - (months + 12 - time.month) ~/ 12;
 var d = _clampDate(time.day, y, m);
 return new DateTime(
     y,
     m,
     d,
     time.hour,
     time.minute,
     time.second,
     time.millisecond
 );
}
</pre>
</div>
</div>
<div class="method"><h4 id="monthsFromNow">
<button class="show-code">Code</button>
DateTime <strong>monthsFromNow</strong>(int months) <a class="anchor-link" href="#monthsFromNow"
              title="Permalink to Clock.monthsFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">months</span> from now on the same date.</p>
<pre class="source">
DateTime monthsFromNow(int months) {
 var time = now();
 var m = (time.month + months - 1) % 12 + 1;
 var y = time.year + (months + time.month - 1) ~/ 12;
 var d = _clampDate(time.day, y, m);
 return new DateTime(
     y,
     m,
     d,
     time.hour,
     time.minute,
     time.second,
     time.millisecond
 );
}
</pre>
</div>
</div>
<div class="method"><h4 id="now">
<button class="show-code">Code</button>
DateTime <strong>now</strong>() <a class="anchor-link" href="#now"
              title="Permalink to Clock.now">#</a></h4>
<div class="doc">
<p>Returns current time.</p>
<pre class="source">
DateTime now() =&gt; _time();
</pre>
</div>
</div>
<div class="method"><h4 id="secondsAgo">
<button class="show-code">Code</button>
DateTime <strong>secondsAgo</strong>(int seconds) <a class="anchor-link" href="#secondsAgo"
              title="Permalink to Clock.secondsAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">seconds</span> ago.</p>
<pre class="source">
DateTime secondsAgo(int seconds) =&gt; ago(seconds: seconds);
</pre>
</div>
</div>
<div class="method"><h4 id="secondsFromNow">
<button class="show-code">Code</button>
DateTime <strong>secondsFromNow</strong>(int seconds) <a class="anchor-link" href="#secondsFromNow"
              title="Permalink to Clock.secondsFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">seconds</span> from now.</p>
<pre class="source">
DateTime secondsFromNow(int seconds) =&gt; fromNow(seconds: seconds);
</pre>
</div>
</div>
<div class="method"><h4 id="weeksAgo">
<button class="show-code">Code</button>
DateTime <strong>weeksAgo</strong>(int weeks) <a class="anchor-link" href="#weeksAgo"
              title="Permalink to Clock.weeksAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">weeks</span> ago.</p>
<pre class="source">
DateTime weeksAgo(int weeks) =&gt; ago(days: 7 * weeks);
</pre>
</div>
</div>
<div class="method"><h4 id="weeksFromNow">
<button class="show-code">Code</button>
DateTime <strong>weeksFromNow</strong>(int weeks) <a class="anchor-link" href="#weeksFromNow"
              title="Permalink to Clock.weeksFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">weeks</span> from now.</p>
<pre class="source">
DateTime weeksFromNow(int weeks) =&gt; fromNow(days: 7 * weeks);
</pre>
</div>
</div>
<div class="method"><h4 id="yearsAgo">
<button class="show-code">Code</button>
DateTime <strong>yearsAgo</strong>(int years) <a class="anchor-link" href="#yearsAgo"
              title="Permalink to Clock.yearsAgo">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">years</span> ago on the same date.</p>
<pre class="source">
DateTime yearsAgo(int years) {
 var time = now();
 var y = time.year - years;
 var d = _clampDate(time.day, y, time.month);
 return new DateTime(
     y,
     time.month,
     d,
     time.hour,
     time.minute,
     time.second,
     time.millisecond
 );
}
</pre>
</div>
</div>
<div class="method"><h4 id="yearsFromNow">
<button class="show-code">Code</button>
DateTime <strong>yearsFromNow</strong>(int years) <a class="anchor-link" href="#yearsFromNow"
              title="Permalink to Clock.yearsFromNow">#</a></h4>
<div class="doc">
<p>Return the point in time 
<span class="param">years</span> from now on the same date.</p>
<pre class="source">
DateTime yearsFromNow(int years) =&gt; yearsAgo(-years);
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-10-14 14:26:54.724</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
