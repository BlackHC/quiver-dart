        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>FakeStopwatch class / quiver.testing.time Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="quiver.testing.time" data-type="FakeStopwatch">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../quiver.testing.time.html">quiver.testing.time</a> &rsaquo; <a href="../quiver.testing.time/FakeStopwatch.html">FakeStopwatch</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>FakeStopwatch</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>A <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> implementation that gets the current time in microseconds
via a user-supplied function.</p>
<pre class="source">
class FakeStopwatch implements Stopwatch {
 Now _now;
 int frequency;
 int _start;
 int _stop;

 FakeStopwatch(int now(), int this.frequency)
     : _now = now,
       _start = null,
       _stop = null;

 void start() {
   if (isRunning) return;
   if (_start == null) {
     _start = _now();
   } else {
     _start = _now() - (_stop - _start);
     _stop = null;
   }
 }

 void stop() {
   if (!isRunning) return;
   _stop = _now();
 }

 void reset() {
   if (_start == null) return;
   _start = _now();
   if (_stop != null) {
     _stop = _start;
   }
 }

 int get elapsedTicks {
   if (_start == null) {
     return 0;
   }
   return (_stop == null) ? (_now() - _start) : (_stop - _start);
 }

 Duration get elapsed =&gt; new Duration(microseconds: elapsedMicroseconds);

 int get elapsedMicroseconds =&gt; (elapsedTicks * 1000000) ~/ frequency;

 int get elapsedMilliseconds =&gt; (elapsedTicks * 1000) ~/ frequency;

 bool get isRunning =&gt; _start != null &amp;&amp; _stop == null;
}
</pre>
</div>
<h3>Implements</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_core/Stopwatch.html">Stopwatch</a></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>FakeStopwatch</strong>(int now(), int frequency) <a class="anchor-link" href="#"
              title="Permalink to FakeStopwatch.FakeStopwatch">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> in stopped state with a zero elapsed count.</p>
<p>The following example shows how to start a <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a>
immediately after allocation.</p>
<pre><code>Stopwatch stopwatch = new Stopwatch()..start();
</code></pre>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
FakeStopwatch(int now(), int this.frequency)
   : _now = now,
     _start = null,
     _stop = null;
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="elapsed">
<button class="show-code">Code</button>
final Duration         <strong>elapsed</strong> <a class="anchor-link"
            href="#elapsed"
            title="Permalink to FakeStopwatch.elapsed">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsedTicks">elapsedTicks</a> counter converted to a <a class="crossref" href="../dart_core/Duration.html">Duration</a>.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
Duration get elapsed =&gt; new Duration(microseconds: elapsedMicroseconds);
</pre>
</div>
</div>
<div class="field"><h4 id="elapsedMicroseconds">
<button class="show-code">Code</button>
final int         <strong>elapsedMicroseconds</strong> <a class="anchor-link"
            href="#elapsedMicroseconds"
            title="Permalink to FakeStopwatch.elapsedMicroseconds">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsedTicks">elapsedTicks</a> counter converted to microseconds.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
int get elapsedMicroseconds =&gt; (elapsedTicks * 1000000) ~/ frequency;
</pre>
</div>
</div>
<div class="field"><h4 id="elapsedMilliseconds">
<button class="show-code">Code</button>
final int         <strong>elapsedMilliseconds</strong> <a class="anchor-link"
            href="#elapsedMilliseconds"
            title="Permalink to FakeStopwatch.elapsedMilliseconds">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsedTicks">elapsedTicks</a> counter converted to milliseconds.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
int get elapsedMilliseconds =&gt; (elapsedTicks * 1000) ~/ frequency;
</pre>
</div>
</div>
<div class="field"><h4 id="elapsedTicks">
<button class="show-code">Code</button>
final int         <strong>elapsedTicks</strong> <a class="anchor-link"
            href="#elapsedTicks"
            title="Permalink to FakeStopwatch.elapsedTicks">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the elapsed number of clock ticks since calling <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#start">start</a> while the
<a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> is running.</p>
<p>Returns the elapsed number of clock ticks between calling <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#start">start</a> and
calling <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#stop">stop</a>.</p>
<p>Returns 0 if the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> has never been started.</p>
<p>The elapsed number of clock ticks increases by <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#frequency">frequency</a> every second.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
int get elapsedTicks {
 if (_start == null) {
   return 0;
 }
 return (_stop == null) ? (_now() - _start) : (_stop - _start);
}
</pre>
</div>
</div>
<div class="field"><h4 id="frequency">
<button class="show-code">Code</button>
int         <strong>frequency</strong> <a class="anchor-link"
            href="#frequency"
            title="Permalink to FakeStopwatch.frequency">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the frequency of the elapsed counter in Hz.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
int frequency
</pre>
</div>
</div>
<div class="field"><h4 id="isRunning">
<button class="show-code">Code</button>
final bool         <strong>isRunning</strong> <a class="anchor-link"
            href="#isRunning"
            title="Permalink to FakeStopwatch.isRunning">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns wether the <code>StopWatch</code> is currently running.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
bool get isRunning =&gt; _start != null &amp;&amp; _stop == null;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="reset">
<button class="show-code">Code</button>
void <strong>reset</strong>() <a class="anchor-link" href="#reset"
              title="Permalink to FakeStopwatch.reset">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Resets the <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsed">elapsed</a> count to zero.</p>
<p>This method does not stop or start the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a>.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
void reset() {
 if (_start == null) return;
 _start = _now();
 if (_stop != null) {
   _stop = _start;
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="start">
<button class="show-code">Code</button>
void <strong>start</strong>() <a class="anchor-link" href="#start"
              title="Permalink to FakeStopwatch.start">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Starts the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a>.</p>
<p>The <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsed">elapsed</a> count is increasing monotonically. If the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> has
been stopped, then calling start again restarts it without resetting the
<a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsed">elapsed</a> count.</p>
<p>If the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> is currently running, then calling start does nothing.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
void start() {
 if (isRunning) return;
 if (_start == null) {
   _start = _now();
 } else {
   _start = _now() - (_stop - _start);
   _stop = null;
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="stop">
<button class="show-code">Code</button>
void <strong>stop</strong>() <a class="anchor-link" href="#stop"
              title="Permalink to FakeStopwatch.stop">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Stops the <a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a>.</p>
<p>The <a class="crossref" href="../quiver.testing.time/FakeStopwatch.html#elapsedTicks">elapsedTicks</a> count stops increasing after this call. If the
<a class="crossref" href="../dart_core/Stopwatch.html">Stopwatch</a> is currently not running, then calling this method has no
effect.</p>
<div class="docs-inherited-from">docs inherited from Stopwatch </div></div>
<pre class="source">
void stop() {
 if (!isRunning) return;
 _stop = _now();
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-11-04 16:16:49.184</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
